<!DOCTYPE html>
<html data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title data-i18n="meta.title">Senior Web Engineer — Portfolio</title>
  <meta name="description" content="Senior Web Engineer with 10+ years experience. High-impact web apps, DX, performance, and accessibility. Available for select projects." data-i18n="meta.desc" />
  <meta name="theme-color" content="#0b021e" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <!-- EN font -->
  <link id="font-en" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
  <!-- FA font -->
  <link id="font-fa" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet" />
  <script defer src="https://unpkg.com/lucide@latest"></script>

  <!-- Open Graph -->
  <meta property="og:title" content="Senior Web Engineer — Portfolio" />
  <meta property="og:description" content="High-impact web apps, DX, performance, and accessibility." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />

  <style>
    :root{
      --bg-0:#0b021e;
      --bg-1:#120436;
      --bg-2:#0f0727;
      --ink-1:#ffffff;
      --ink-2:rgba(255,255,255,.86);
      --ink-3:rgba(255,255,255,.64);
      --g1:#a855f7;
      --g2:#ec4899;
      --g3:#3b82f6;
      --acc:#22d3ee;
      --r2:16px;
      --r3:22px;
      --r4:28px;
      --e1:0 12px 30px rgba(9,0,20,.45);
      --e2:0 28px 70px rgba(9,0,20,.65);
      --padY: clamp(2.5rem, 5vw, 6rem);
      --surface-soft: rgba(255,255,255,.08);
      --surface-strong: rgba(12,6,29,.75);
      --stroke-soft: rgba(255,255,255,.16);
      --glow:#38bdf8;
    }
    [data-theme="light"]{
      --bg-0:#f7f7fb;
      --bg-1:#ffffff;
      --bg-2:#eef2ff;
      --ink-1:#0f172a;
      --ink-2:#1f2a44;
      --ink-3:#4b5563;
      --surface-soft: rgba(15,23,42,.08);
      --surface-strong: rgba(255,255,255,.92);
      --stroke-soft: rgba(15,23,42,.12);
      --glow:#0ea5e9;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      color:var(--ink-1);
      min-height:100%;
      position:relative;
      overflow-x:hidden;
      background:
        radial-gradient(1400px 700px at 15% -10%, rgba(168,85,247,.28), transparent 65%),
        radial-gradient(900px 520px at 85% 0%, rgba(59,130,246,.25), transparent 60%),
        linear-gradient(135deg,var(--bg-0),var(--bg-1) 45%,var(--bg-2));
    }
    [data-theme="light"] body{
      background:
        radial-gradient(1100px 520px at 15% -10%, rgba(14,165,233,.22), transparent 62%),
        radial-gradient(800px 480px at 80% 0%, rgba(168,85,247,.2), transparent 62%),
        linear-gradient(180deg,var(--bg-1),var(--bg-2));
    }
    body::before{
      content:"";
      position:fixed;
      inset:-22vmax;
      z-index:-2;
      pointer-events:none;
      background:
        radial-gradient(circle at 18% 18%, rgba(236,72,153,.32), transparent 55%),
        radial-gradient(circle at 78% 8%, rgba(56,189,248,.28), transparent 60%),
        radial-gradient(circle at 50% 72%, rgba(168,85,247,.22), transparent 70%);
      opacity:.65;
      animation: halo 36s linear infinite;
    }
    body::after{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-3;
      background-image:
        radial-gradient(circle at 1px 1px, rgba(255,255,255,.11), transparent 38px),
        radial-gradient(circle at 3px 3px, rgba(255,255,255,.04), transparent 42px);
      background-size:72px 72px;
      mix-blend-mode:screen;
      opacity:.14;
    }
    [data-theme="light"] body::after{
      mix-blend-mode:normal;
      opacity:.12;
    }
    ::selection{
      background:rgba(168,85,247,.35);
      color:#fff;
    }

    section{
      padding-block:var(--padY);
      position:relative;
      z-index:1;
    }
    .container{max-width:1152px; margin-inline:auto; padding-inline:1.25rem}

    .page-shell{
      display:flex;
      flex-direction:column;
      gap:clamp(3rem,7vw,5.5rem);
      position:relative;
      z-index:1;
    }

    .section-hero{
      padding-block: clamp(5rem, 12vw, 9rem);
      text-align:center;
      display:grid;
      gap:clamp(1.5rem,4vw,2.75rem);
    }
    .section-hero h1{
      font-size:clamp(2.75rem, 7vw, 4.8rem);
      line-height:1.05;
      letter-spacing:-0.01em;
      background:linear-gradient(120deg, rgba(255,255,255,.95), rgba(168,85,247,.92) 40%, rgba(34,211,238,.92) 82%);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow:0 18px 34px rgba(8,0,20,.45);
      animation:floaty 12s ease-in-out infinite;
    }
    .section-hero p{
      max-width:min(720px, 90vw);
      margin-inline:auto;
      font-size:clamp(1.05rem, 2.3vw, 1.35rem);
      color:var(--ink-2);
    }
    .section-hero .pill{
      background:rgba(16,10,35,.65);
      border-color:rgba(255,255,255,.1);
      box-shadow:inset 0 1px 0 rgba(255,255,255,.18);
    }
    .section-hero .pill.active{
      box-shadow:0 12px 32px rgba(168,85,247,.35);
    }
    [data-theme="light"] .section-hero .pill{
      background:rgba(255,255,255,.82);
      border-color:rgba(15,23,42,.1);
      color:var(--ink-1);
    }

    .section-logos{
      padding-top:0;
      margin-top:-1.25rem;
    }
    .section-logos .glass{
      padding: clamp(1.3rem, 3vw, 1.8rem);
      display:flex;
      justify-content:center;
      position:relative;
      overflow:hidden;
    }
    .section-logos .glass::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
      transform:translateX(-45%);
      opacity:0;
      transition:transform .6s ease, opacity .6s ease;
      pointer-events:none;
    }
    .section-logos .glass:hover::after{
      transform:translateX(45%);
      opacity:.8;
    }

    .section-block{
      padding-block: clamp(3rem, 8vw, 6rem);
      border-radius: calc(var(--r4) * 1.05);
      position:relative;
      overflow:hidden;
    }
    .section-block::before,
    .section-block::after{
      content:"";
      position:absolute;
      inset:-24px;
      border-radius:inherit;
      pointer-events:none;
      transition:opacity .4s ease;
    }
    .section-block::before{
      z-index:-2;
      background:
        radial-gradient(circle at 10% 15%, rgba(236,72,153,.35), transparent 60%),
        radial-gradient(circle at 90% 25%, rgba(37,99,235,.32), transparent 65%);
      filter:blur(46px);
      opacity:.4;
    }
    .section-block::after{
      z-index:-1;
      border:1px solid rgba(255,255,255,.06);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(10,5,26,.75));
      opacity:.55;
    }
    .section-block:hover::after{
      opacity:.75;
    }
    [data-theme="light"] .section-block::after{
      background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(248,250,255,.7));
      border-color:rgba(15,23,42,.08);
    }

    header{
      position:sticky;
      top:0;
      z-index:70;
      backdrop-filter:blur(18px) saturate(160%);
      -webkit-backdrop-filter:blur(18px) saturate(160%);
      background:rgba(10,0,26,.58);
      border-bottom:1px solid rgba(255,255,255,.08);
      transition:background .3s ease, box-shadow .3s ease, border-color .3s ease;
    }
    header::after{
      content:"";
      position:absolute;
      left:0;
      right:0;
      bottom:-1px;
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(168,85,247,.6), rgba(34,211,238,.6), transparent);
      opacity:.6;
      pointer-events:none;
    }
    header.scrolled{
      background:rgba(10,0,26,.88);
      box-shadow:0 18px 40px rgba(7,0,19,.45);
    }
    [data-theme="light"] header{
      background:rgba(255,255,255,.86);
      border-color:rgba(15,23,42,.08);
    }
    [data-theme="light"] header.scrolled{
      background:#ffffff;
      box-shadow:0 16px 36px rgba(15,23,42,.08);
    }

    .logo{
      display:flex;
      align-items:center;
      gap:.65rem;
      font-weight:900;
      letter-spacing:-.02em;
    }
    .logo-badge{
      width:40px;
      height:40px;
      border-radius:12px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(135deg, var(--g1), var(--g2));
      color:#fff;
      box-shadow:0 10px 26px rgba(236,72,153,.35);
      position:relative;
      overflow:hidden;
    }
    .logo-badge::after{
      content:"";
      position:absolute;
      inset:10% 0 -70% 0;
      background:linear-gradient(120deg, rgba(255,255,255,.7), transparent 65%);
      opacity:.8;
      animation:shine 4.8s ease-in-out infinite;
    }

    .nav a{
      color:var(--ink-2);
      font-weight:700;
      padding:.55rem .7rem;
      border-radius:10px;
      transition:color .2s ease, background .2s ease, transform .2s ease;
    }
    .nav a:hover{
      color:#fff;
      background:rgba(255,255,255,.1);
      transform:translateY(-1px);
    }
    [data-theme="light"] .nav a{
      color:var(--ink-2);
    }
    [data-theme="light"] .nav a:hover{
      background:rgba(15,23,42,.06);
      color:var(--ink-1);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.6rem;
      border:none;
      border-radius:14px;
      padding:.95rem 1.4rem;
      font-weight:800;
      cursor:pointer;
      color:#fff;
      background:linear-gradient(100deg, var(--g1), var(--g2), var(--g3));
      box-shadow:0 16px 36px rgba(168,85,247,.35);
      transition:transform .25s ease, box-shadow .25s ease;
      position:relative;
      isolation:isolate;
      overflow:hidden;
    }
    .btn::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      background:linear-gradient(120deg, rgba(255,255,255,.32), rgba(255,255,255,.05));
      opacity:0;
      transition:opacity .3s ease;
      z-index:-1;
    }
    .btn::after{
      content:"";
      position:absolute;
      inset:-40% -60%;
      background:radial-gradient(circle, rgba(255,255,255,.8) 0%, transparent 60%);
      opacity:0;
      transition:opacity .3s ease, transform .3s ease;
      transform:scale(.6);
      z-index:-2;
    }
    .btn:hover{
      transform:translateY(-3px);
      box-shadow:0 22px 46px rgba(147,51,234,.48);
    }
    .btn:hover::before{opacity:.65;}
    .btn:hover::after{
      opacity:.45;
      transform:scale(1.1);
    }

    .btn.w-full,
    .btn-ghost.w-full{
      display:flex;
    }

    .btn-ghost{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.55rem;
      border:1px solid var(--stroke-soft);
      background:rgba(255,255,255,.08);
      color:var(--ink-1);
      border-radius:14px;
      padding:.75rem 1rem;
      font-weight:800;
      transition:background .25s ease, color .25s ease, border-color .25s ease, transform .25s ease;
      position:relative;
      overflow:hidden;
    }
    .btn-ghost::after{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      background:linear-gradient(135deg, rgba(255,255,255,.2), transparent 70%);
      opacity:0;
      transition:opacity .3s ease;
      pointer-events:none;
    }
    .btn-ghost:hover{
      background:rgba(255,255,255,.16);
      border-color:rgba(255,255,255,.35);
      transform:translateY(-2px);
    }
    .btn-ghost:hover::after{opacity:.9;}
    [data-theme="light"] .btn-ghost{
      background:rgba(255,255,255,.92);
      border-color:rgba(15,23,42,.12);
      color:var(--ink-1);
    }
    [data-theme="light"] .btn-ghost:hover{
      background:#fff;
      border-color:rgba(14,165,233,.35);
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      padding:.55rem .95rem;
      border-radius:999px;
      font-weight:700;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      transition:background .25s ease, border-color .25s ease, color .25s ease, transform .25s ease;
    }
    .pill i{
      font-size:.95rem;
      opacity:.85;
    }
    .pill.active,
    .pill:hover{
      background:linear-gradient(100deg, var(--g1), var(--g2), var(--g3));
      border-color:transparent;
      color:#fff;
      transform:translateY(-2px);
      box-shadow:0 14px 32px rgba(59,130,246,.32);
    }
    [data-theme="light"] .pill{
      background:rgba(255,255,255,.92);
      border-color:rgba(15,23,42,.1);
      color:var(--ink-2);
    }
    [data-theme="light"] .pill.active,
    [data-theme="light"] .pill:hover{
      color:#fff;
    }

    .glass{
      position:relative;
      backdrop-filter:blur(18px) saturate(150%);
      -webkit-backdrop-filter:blur(18px) saturate(150%);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid var(--stroke-soft);
      border-radius:var(--r3);
      box-shadow:var(--e1);
      transition:transform .3s ease, box-shadow .3s ease, border-color .3s ease;
      overflow:hidden;
    }
    .glass::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius:inherit;
      background:linear-gradient(135deg, rgba(255,255,255,.22), transparent 60%);
      opacity:0;
      transition:opacity .4s ease;
      pointer-events:none;
    }
    .glass::after{
      content:"";
      position:absolute;
      inset:-140% 45% 140% -45%;
      background:linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.6), rgba(255,255,255,0));
      transform:rotate(18deg);
      opacity:0;
      transition:opacity .6s ease, transform .6s ease;
      pointer-events:none;
    }
    .glass:hover{
      transform:translateY(-6px);
      box-shadow:var(--e2);
      border-color:rgba(255,255,255,.28);
    }
    .glass:hover::before{opacity:.85;}
    .glass:hover::after{
      opacity:.6;
      transform:translate3d(0,10%,0) rotate(18deg);
    }
    [data-theme="light"] .glass{
      background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75));
      border-color:rgba(15,23,42,.08);
      box-shadow:0 18px 42px rgba(15,23,42,.08);
    }

    .card{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(15,13,35,.75);
      border-radius:20px;
      overflow:hidden;
      transition:transform .3s ease, box-shadow .3s ease, border-color .3s ease;
      position:relative;
      display:flex;
      flex-direction:column;
      min-height:100%;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:1px;
      border-radius:inherit;
      background:linear-gradient(145deg, rgba(34,211,238,.18), rgba(168,85,247,.05));
      opacity:0;
      transition:opacity .3s ease;
      pointer-events:none;
    }
    .card::after{
      content:"";
      position:absolute;
      inset:auto -40% -60% -40%;
      height:45%;
      background:radial-gradient(circle, rgba(168,85,247,.35), transparent 70%);
      opacity:0;
      transition:opacity .3s ease;
      pointer-events:none;
    }
    .card:hover{
      transform:translateY(-6px);
      box-shadow:0 26px 54px rgba(6,0,18,.55);
      border-color:rgba(255,255,255,.28);
    }
    .card:hover::before{opacity:1;}
    .card:hover::after{opacity:.45;}
    .card .aspect-\[16\/9\]{
      position:relative;
      isolation:isolate;
    }
    .card img{
      filter:saturate(1.15) contrast(1.08);
      transition:transform .5s ease, filter .5s ease;
    }
    .card:hover img{
      transform:scale(1.06);
      filter:saturate(1.25) contrast(1.2);
    }
    [data-theme="light"] .card{
      background:#ffffff;
      border-color:rgba(15,23,42,.08);
      box-shadow:0 20px 42px rgba(15,23,42,.12);
    }

    blockquote.glass{
      padding:2.2rem;
      font-size:1.05rem;
      position:relative;
    }
    blockquote.glass::before{
      content:"“";
      position:absolute;
      font-size:4.5rem;
      opacity:.12;
      top:.4rem;
      left:1.4rem;
      font-weight:900;
    }
    blockquote.glass footer{
      font-style:normal;
      letter-spacing:.02em;
    }

    input, textarea, select{
      width:100%;
      padding:1rem;
      border-radius:14px;
      border:1px solid var(--stroke-soft);
      background:rgba(255,255,255,.08);
      color:var(--ink-1);
      font-size:1rem;
      transition:border-color .25s ease, box-shadow .25s ease, background .25s ease;
    }
    [data-theme="light"] input,
    [data-theme="light"] textarea,
    [data-theme="light"] select{
      background:#fff;
      border-color:rgba(15,23,42,.12);
    }
    input::placeholder,
    textarea::placeholder{
      color:rgba(255,255,255,.55);
    }
    [data-theme="light"] input::placeholder,
    [data-theme="light"] textarea::placeholder{
      color:rgba(15,23,42,.4);
    }
    input:focus,
    textarea:focus,
    select:focus{
      outline:none;
      border-color:var(--g1);
      box-shadow:0 0 0 4px rgba(168,85,247,.25);
      background:rgba(255,255,255,.12);
    }
    [data-theme="light"] input:focus,
    [data-theme="light"] textarea:focus,
    [data-theme="light"] select:focus{
      background:#fff;
      box-shadow:0 0 0 4px rgba(147,51,234,.16);
    }

    input[type="checkbox"]{
      width:1.2rem;
      height:1.2rem;
      border-radius:6px;
      border:1px solid var(--stroke-soft);
      background:rgba(255,255,255,.08);
      display:inline-grid;
      place-content:center;
      transition:border-color .25s ease, background .25s ease, box-shadow .25s ease;
      cursor:pointer;
    }
    input[type="checkbox"]::after{
      content:"";
      width:.55rem;
      height:.35rem;
      border-left:2px solid transparent;
      border-bottom:2px solid transparent;
      transform:rotate(-45deg) translateY(-1px);
      transition:border-color .25s ease;
    }
    input[type="checkbox"]:checked{
      border-color:transparent;
      background:linear-gradient(120deg, var(--g1), var(--g2));
      box-shadow:0 0 0 4px rgba(168,85,247,.28);
    }
    input[type="checkbox"]:checked::after{
      border-color:#fff;
    }
    [data-theme="light"] input[type="checkbox"]{
      background:#fff;
      border-color:rgba(15,23,42,.12);
    }

    .helper{
      font-size:.85rem;
      color:#fda4af;
      display:none;
      margin-top:.5rem;
    }
    .helper.show{display:block}

    #scrollbar{
      position:fixed;
      top:0;
      left:0;
      height:4px;
      width:100%;
      transform:scaleX(0);
      transform-origin:left center;
      background:linear-gradient(90deg,var(--g1),var(--g2),var(--g3));
      box-shadow:0 2px 12px rgba(168,85,247,.45);
      z-index:90;
      pointer-events:none;
      border-radius:999px;
    }

    :where(a,button,input,select,textarea):focus-visible{
      outline:2px solid var(--acc);
      outline-offset:4px;
      border-radius:12px;
    }

    .footer-block{
      margin-top:clamp(4rem, 8vw, 6rem);
      padding-block:clamp(2.5rem, 6vw, 4rem);
      border-radius:calc(var(--r4) * 1.05);
      border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(12,6,29,.7));
      position:relative;
      overflow:hidden;
    }
    .footer-block::before{
      content:"";
      position:absolute;
      inset:-30% 5%;
      background:radial-gradient(circle, rgba(59,130,246,.28), transparent 70%);
      opacity:.45;
      filter:blur(44px);
      pointer-events:none;
    }
    [data-theme="light"] .footer-block{
      background:linear-gradient(180deg, rgba(255,255,255,.95), rgba(248,250,255,.85));
      border-color:rgba(15,23,42,.1);
      box-shadow:0 20px 44px rgba(15,23,42,.12);
    }

    [data-theme="light"] .glass::before{
      background:linear-gradient(135deg, rgba(255,255,255,.65), transparent 70%);
    }
    [data-theme="light"] .glass::after{
      background:linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.45), rgba(255,255,255,0));
    }

    @media (max-width: 768px){
      .section-block::before,
      .section-block::after{
        inset:-16px;
      }
      .card:hover{
        transform:translateY(-3px);
      }
      header::after{opacity:.4;}
      .footer-block{padding-inline:1.5rem;}
    }

    @media (max-width: 640px){
      .section-hero{padding-block:clamp(4rem, 18vw, 6rem);}
      .section-logos{margin-top:0;}
      .page-shell{gap:clamp(2.5rem, 12vw, 4rem);}
      .footer-block{margin-top:clamp(3rem, 10vw, 4rem);}
    }

    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{
        animation-duration:.001ms !important;
        animation-iteration-count:1 !important;
        transition-duration:.001ms !important;
        scroll-behavior:auto !important;
      }
    }

    @keyframes floaty{
      0%,100%{transform:translateY(0);}
      50%{transform:translateY(-8px);}
    }
    @keyframes halo{
      0%{transform:rotate(0deg) scale(1);}
      50%{transform:rotate(180deg) scale(1.05);}
      100%{transform:rotate(360deg) scale(1);}
    }
    @keyframes shine{
      0%{transform:translateY(0);}
      100%{transform:translateY(-65%);}
    }

    .lang-fa body, .lang-fa .use-fa { font-family: "Vazirmatn", system-ui, Segoe UI, Tahoma, sans-serif; }
    .lang-en body, .lang-en .use-en { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  </style>
</head>
<body>
  <div id="scrollbar" aria-hidden="true"></div>

  <!-- Header -->
  <header id="siteHeader">
    <div class="container h-16 flex items-center justify-between">
      <a class="logo" href="#top" aria-label="Home">
        <span class="logo-badge"><i data-lucide="sparkles"></i></span>
        <span data-i18n="brand">Senior Web Engineer</span>
      </a>
      <nav class="nav hidden md:flex items-center gap-2" aria-label="Primary">
        <a href="#work" data-i18n="nav.work">Work</a>
        <a href="#stack" data-i18n="nav.stack">Stack</a>
        <a href="#testimonials" data-i18n="nav.testimonials">Testimonials</a>
        <a href="#contact" class="btn" data-i18n="nav.hire">Hire me</a>
      </nav>
      <div class="flex items-center gap-2">
        <button id="langToggle" class="btn-ghost" aria-label="Switch language"><i data-lucide="languages"></i><span class="hidden md:inline" data-i18n="lang.btn">FA / EN</span></button>
        <button id="themeToggle" class="btn-ghost" aria-label="Toggle theme"><i id="themeIcon" data-lucide="moon"></i></button>
        <button id="menuBtn" class="btn-ghost md:hidden" aria-label="Menu"><i data-lucide="menu"></i></button>
      </div>
    </div>
    <div id="mobileMenu" class="container hidden pb-3">
      <div class="glass p-3 mt-2 flex flex-col gap-2">
        <a class="btn-ghost" href="#work" data-i18n="nav.work">Work</a>
        <a class="btn-ghost" href="#stack" data-i18n="nav.stack">Stack</a>
        <a class="btn-ghost" href="#testimonials" data-i18n="nav.testimonials">Testimonials</a>
        <div class="flex gap-2">
          <a class="btn grow" href="#contact" data-i18n="nav.hire">Hire me</a>
          <button id="langToggleMobile" class="btn-ghost grow" aria-label="Switch language"><i data-lucide="languages"></i></button>
        </div>
      </div>
    </div>
  </header>

  <main class="page-shell">
  <!-- Hero -->
  <section class="container section-hero text-center" id="top">
    <h1 class="text-4xl md:text-6xl font-black leading-tight bg-gradient-to-r from-purple-300 via-pink-300 to-blue-300 bg-clip-text text-transparent" data-i18n="hero.title">
      I design & build web apps that feel fast, look sharp, and scale.
    </h1>
    <p class="mt-5 text-lg md:text-xl text-[color:var(--ink-2)]" data-i18n="hero.subtitle">
      10+ years shipping for startups & enterprises. I focus on performance, DX, accessibility, and maintainable design systems.
    </p>
    <div class="mt-8 flex flex-wrap justify-center gap-3">
      <span class="pill active"><i data-lucide="zap"></i> <span data-i18n="hero.p1">Performance</span></span>
      <span class="pill"><i data-lucide="accessibility"></i> <span data-i18n="hero.p2">Accessibility</span></span>
      <span class="pill"><i data-lucide="box"></i> <span data-i18n="hero.p3">Design Systems</span></span>
      <span class="pill"><i data-lucide="cpu"></i> <span data-i18n="hero.p4">TypeScript</span></span>
    </div>
    <div class="mt-10 flex flex-wrap items-center justify-center gap-4 max-w-xl mx-auto">
      <a href="#contact" class="btn w-full sm:w-auto justify-center"><i data-lucide="rocket"></i> <span data-i18n="hero.cta1">Start a project</span></a>
      <a href="#work" class="btn-ghost w-full sm:w-auto justify-center"><i data-lucide="play-circle"></i> <span data-i18n="hero.cta2">View selected work</span></a>
    </div>
  </section>

  <!-- Logos -->
  <section class="container section-logos">
    <div class="glass p-4 rounded-2xl overflow-hidden">
      <div class="flex items-center justify-center gap-8 opacity-80 text-[color:var(--ink-3)] flex-wrap">
        <span class="flex items-center gap-2"><i data-lucide="building-2"></i> <span data-i18n="logos.1">Acme Corp</span></span>
        <span class="flex items-center gap-2"><i data-lucide="badge-check"></i> <span data-i18n="logos.2">Beta SaaS</span></span>
        <span class="flex items-center gap-2"><i data-lucide="line-chart"></i> <span data-i18n="logos.3">FinEdge</span></span>
        <span class="flex items-center gap-2"><i data-lucide="cloud"></i> <span data-i18n="logos.4">Cloudify</span></span>
        <span class="flex items-center gap-2"><i data-lucide="activity"></i> <span data-i18n="logos.5">Medlytics</span></span>
      </div>
    </div>
  </section>

  <!-- Selected Work -->
  <section id="work" class="container section-block">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-6">
      <h2 class="text-3xl md:text-4xl font-black" data-i18n="work.title">Selected Work</h2>
      <div class="hidden md:flex md:flex-wrap md:justify-end gap-2">
        <button class="pill active" data-filter="all" data-i18n="filters.all">All</button>
        <button class="pill" data-filter="saas" data-i18n="filters.saas">SaaS</button>
        <button class="pill" data-filter="dashboards" data-i18n="filters.dashboards">Dashboards</button>
        <button class="pill" data-filter="marketing" data-i18n="filters.marketing">Marketing</button>
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-6">
      <article class="card" data-cat="saas">
        <div class="aspect-[16/9] relative">
          <img loading="lazy" alt="" class="absolute inset-0 w-full h-full object-cover"
               src="https://images.unsplash.com/photo-1551281044-8af8e85e5933?q=80&w=1200&auto=format&fit=crop" />
        </div>
        <div class="p-5">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-extrabold" data-i18n="work.a.title">Realtime Analytics Dashboard</h3>
            <span class="text-xs px-2 py-1 rounded-full border border-white/10 bg-white/5" data-i18n="work.a.badge">+37% retention</span>
          </div>
          <p class="text-[color:var(--ink-2)] mt-2" data-i18n="work.a.desc">
            React + TanStack Query, ECharts, streaming via SSE. Lighthouse 98/100, accessible keyboard nav.
          </p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs text-[color:var(--ink-3)]">
            <span class="pill">React</span><span class="pill">TypeScript</span><span class="pill" data-i18n="tech.node">Node</span>
          </div>
        </div>
      </article>

      <article class="card" data-cat="marketing">
        <div class="aspect-[16/9] relative">
          <img loading="lazy" alt="" class="absolute inset-0 w-full h-full object-cover"
               src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1200&auto=format&fit=crop" />
        </div>
        <div class="p-5">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-extrabold" data-i18n="work.b.title">Campaign Landing System</h3>
            <span class="text-xs px-2 py-1 rounded-full border border-white/10 bg-white/5" data-i18n="work.b.badge">5.8% avg CTR</span>
          </div>
          <p class="text-[color:var(--ink-2)] mt-2" data-i18n="work.b.desc">
            Component library for 20+ landing variants, A/B framework, visual editor, CDN image pipeline.
          </p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs text-[color:var(--ink-3)]">
            <span class="pill">Next.js</span><span class="pill" data-i18n="tech.ds">Design System</span><span class="pill">SEO</span>
          </div>
        </div>
      </article>

      <article class="card" data-cat="dashboards">
        <div class="aspect-[16/9] relative">
          <img loading="lazy" alt="" class="absolute inset-0 w-full h-full object-cover"
               src="https://images.unsplash.com/photo-1556157382-97eda2d62296?q=80&w=1200&auto=format&fit=crop" />
        </div>
        <div class="p-5">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-extrabold" data-i18n="work.c.title">Admin Console</h3>
            <span class="text-xs px-2 py-1 rounded-full border border-white/10 bg-white/5" data-i18n="work.c.badge">NPS 9.1</span>
          </div>
          <p class="text-[color:var(--ink-2)] mt-2" data-i18n="work.c.desc">
            RBAC, filtered tables (100k+ rows), optimistic updates, offline cache, i18n.
          </p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs text-[color:var(--ink-3)]">
            <span class="pill">Vite</span><span class="pill">TanStack Table</span><span class="pill">i18n</span>
          </div>
        </div>
      </article>

      <article class="card" data-cat="saas">
        <div class="aspect-[16/9] relative">
          <img loading="lazy" alt="" class="absolute inset-0 w-full h-full object-cover"
               src="https://images.unsplash.com/photo-1542744173-05336fcc7ad4?q=80&w=1200&auto=format&fit=crop" />
        </div>
        <div class="p-5">
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-extrabold" data-i18n="work.d.title">DevTools Plugin</h3>
            <span class="text-xs px-2 py-1 rounded-full border border-white/10 bg-white/5" data-i18n="work.d.badge">3x faster DX</span>
          </div>
          <p class="text-[color:var(--ink-2)] mt-2" data-i18n="work.d.desc">
            Internal CLI + VSCode extension. Scaffolding, code mods, and DX telemetry.
          </p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs text-[color:var(--ink-3)]">
            <span class="pill" data-i18n="tech.node">Node</span><span class="pill">CLI</span><span class="pill">Telemetry</span>
          </div>
        </div>
      </article>
    </div>

    <div class="md:hidden mt-6 flex flex-wrap gap-2">
      <button class="pill active" data-filter="all" data-i18n="filters.all">All</button>
      <button class="pill" data-filter="saas" data-i18n="filters.saas">SaaS</button>
      <button class="pill" data-filter="dashboards" data-i18n="filters.dashboards">Dashboards</button>
      <button class="pill" data-filter="marketing" data-i18n="filters.marketing">Marketing</button>
    </div>
  </section>

  <!-- Stack / Services -->
  <section id="stack" class="container section-block">
    <h2 class="text-3xl md:text-4xl font-black mb-6" data-i18n="stack.title">Expertise & Stack</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <article class="glass p-6">
        <div class="flex items-center gap-2 mb-2"><i data-lucide="boxes"></i><h3 class="font-extrabold text-xl" data-i18n="stack.a.title">Design Systems</h3></div>
        <p class="text-[color:var(--ink-2)]" data-i18n="stack.a.desc">Tokenized themes, accessible components, Storybook, visual regression, Figma → code.</p>
      </article>
      <article class="glass p-6">
        <div class="flex items-center gap-2 mb-2"><i data-lucide="rocket"></i><h3 class="font-extrabold text-xl" data-i18n="stack.b.title">Performance</h3></div>
        <p class="text-[color:var(--ink-2)]" data-i18n="stack.b.desc">Lighthouse 95+, code-splitting, image pipelines, RUM, Core Web Vitals budgets.</p>
      </article>
      <article class="glass p-6">
        <div class="flex items-center gap-2 mb-2"><i data-lucide="accessibility"></i><h3 class="font-extrabold text-xl" data-i18n="stack.c.title">Accessibility</h3></div>
        <p class="text-[color:var(--ink-2)]" data-i18n="stack.c.desc">WCAG 2.2 AA, keyboard/AT support, color contrast, semantic audits & fixes.</p>
      </article>
    </div>

    <div class="glass p-6 mt-6">
      <div class="flex flex-wrap gap-2 text-sm">
        <span class="pill active">TypeScript</span><span class="pill">React</span><span class="pill">Next.js</span><span class="pill">Vite</span>
        <span class="pill" data-i18n="tech.node">Node</span><span class="pill">GraphQL</span><span class="pill">Playwright</span><span class="pill">Vitest</span>
        <span class="pill">Tailwind</span><span class="pill">ECharts</span><span class="pill">i18n</span><span class="pill">Web Workers</span>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section id="testimonials" class="container section-block">
    <h2 class="text-3xl md:text-4xl font-black mb-6" data-i18n="testi.title">What clients say</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <blockquote class="glass p-6">
        <p class="text-[color:var(--ink-2)]" data-i18n="testi.a">“Turned our dashboard into a product users love. Performance jumped and churn dropped.”</p>
        <footer class="mt-4 text-sm text-[color:var(--ink-3)]" data-i18n="testi.a.by">— Head of Product, FinEdge</footer>
      </blockquote>
      <blockquote class="glass p-6">
        <p class="text-[color:var(--ink-2)]" data-i18n="testi.b">“He built a design system that sped up delivery across 5 teams. Rock-solid foundations.”</p>
        <footer class="mt-4 text-sm text-[color:var(--ink-3)]" data-i18n="testi.b.by">— Eng Manager, Cloudify</footer>
      </blockquote>
      <blockquote class="glass p-6">
        <p class="text-[color:var(--ink-2)]" data-i18n="testi.c">“The best DX I’ve seen. Clear standards, automation, and mentoring for our juniors.”</p>
        <footer class="mt-4 text-sm text-[color:var(--ink-3)]" data-i18n="testi.c.by">— CTO, Beta SaaS</footer>
      </blockquote>
    </div>
  </section>

  <!-- Contact / Lead Form -->
  <section id="contact" class="container section-block">
    <div class="glass p-8 md:p-10 rounded-3xl">
      <h2 class="text-3xl md:text-4xl font-black text-center mb-2" data-i18n="contact.title">Let’s build something great</h2>
      <p class="text-center text-[color:var(--ink-2)] mb-6" data-i18n="contact.subtitle">Tell me about your project. I’ll get back within 24h.</p>

      <form id="lead-form" novalidate>
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <label class="block mb-2" for="name" data-i18n="form.name.label">Full name</label>
            <input id="name" name="name" type="text" placeholder="e.g. Jordan Lee" minlength="3" required data-i18n-placeholder="form.name.ph" />
            <p class="helper" id="err-name" data-i18n="form.name.err">Please enter at least 3 characters.</p>
          </div>
          <div>
            <label class="block mb-2" for="email" data-i18n="form.email.label">Email</label>
            <input id="email" name="email" type="email" placeholder="you@company.com" required data-i18n-placeholder="form.email.ph" />
            <p class="helper" id="err-email" data-i18n="form.email.err">Enter a valid email.</p>
          </div>
          <div>
            <label class="block mb-2" for="phone" data-i18n="form.phone.label">Phone / WhatsApp</label>
            <input id="phone" name="phone" type="tel" placeholder="+1 415 555 0133" required pattern="^[+0-9 ()-]{8,}$" data-i18n-placeholder="form.phone.ph" />
            <p class="helper" id="err-phone" data-i18n="form.phone.err">Enter a valid number.</p>
          </div>
          <div>
            <label class="block mb-2" for="source" data-i18n="form.source.label">How did you find me?</label>
            <select id="source" name="source" required>
              <option value="" disabled selected data-i18n="form.source.sel">Select…</option>
              <option data-i18n="form.source.opt.google">Google</option>
              <option data-i18n="form.source.opt.github">GitHub</option>
              <option data-i18n="form.source.opt.linkedin">LinkedIn</option>
              <option data-i18n="form.source.opt.ref">Referral</option>
              <option data-i18n="form.source.opt.other">Other</option>
            </select>
            <p class="helper" id="err-source" data-i18n="form.source.err">Please choose an option.</p>
          </div>
        </div>

        <div class="mt-4">
          <label class="block mb-2" for="message" data-i18n="form.msg.label">What do you need?</label>
          <textarea id="message" name="message" rows="4" minlength="10" required data-i18n-placeholder="form.msg.ph">Short brief, goals, timeline…</textarea>
          <p class="helper" id="err-message" data-i18n="form.msg.err">Write at least 10 characters.</p>
        </div>

        <div class="sr-only" aria-hidden="true">
          <label>Leave this empty</label>
          <input type="text" name="website" tabindex="-1" autocomplete="off" />
        </div>

        <div class="mt-4 flex items-center gap-2">
          <input id="consent" type="checkbox" required />
          <label for="consent" data-i18n="form.consent">I agree to be contacted about my inquiry.</label>
        </div>

        <button class="btn w-full mt-6" type="submit" data-i18n="form.submit">Send request</button>
        <p id="ok" class="text-emerald-400 text-center mt-4 hidden" data-i18n="form.ok">✅ Sent! I’ll reply soon.</p>
        <p id="fail" class="text-rose-300 text-center mt-2 hidden" data-i18n="form.fail">❌ Something went wrong. Please try again.</p>
      </form>

      <p class="text-center text-sm text-[color:var(--ink-3)] mt-4" data-i18n="privacy">Your info is only used to reply about this project.</p>
    </div>
  </section>

  </main>

  <!-- Footer -->
  <footer class="container footer-block">
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="flex items-center gap-2">
        <span class="logo-badge"><i data-lucide="code"></i></span>
        <strong data-i18n="brand">Senior Web Engineer</strong>
      </div>
      <div class="flex items-center gap-4 text-[color:var(--ink-2)]">
        <a class="btn-ghost" href="https://github.com/cOOciDev" target="_blank" rel="noreferrer"><i data-lucide="github"></i> GitHub</a>
        <a class="btn-ghost" href="https://linkedin.com/in/cOOciDev" target="_blank" rel="noreferrer"><i data-lucide="linkedin"></i> LinkedIn</a>
        <a class="btn-ghost" href="mailto:Mehdi_EB@cOOciDev.com"><i data-lucide="mail"></i> <span data-i18n="footer.email">Email</span></a>
      </div>
    </div>
    <p class="text-xs text-[color:var(--ink-3)] mt-4">© <span id="y"></span> <span data-i18n="footer.rights">All rights reserved.</span></p>
  </footer>

  <script>
    // ---- i18n dictionaries ----
    const I18N = {
      en: {
        "meta.title":"Senior Web Engineer — Portfolio",
        "meta.desc":"Senior Web Engineer with 10+ years experience. High-impact web apps, DX, performance, and accessibility. Available for select projects.",
        "brand":"Senior Web Engineer",
        "nav.work":"Work","nav.stack":"Stack","nav.testimonials":"Testimonials","nav.hire":"Hire me",
        "lang.btn":"FA / EN",
        "hero.title":"I design & build web apps that feel fast, look sharp, and scale.",
        "hero.subtitle":"10+ years shipping for startups & enterprises. I focus on performance, DX, accessibility, and maintainable design systems.",
        "hero.p1":"Performance","hero.p2":"Accessibility","hero.p3":"Design Systems","hero.p4":"TypeScript",
        "hero.cta1":"Start a project","hero.cta2":"View selected work",
        "logos.1":"Acme Corp","logos.2":"Beta SaaS","logos.3":"FinEdge","logos.4":"Cloudify","logos.5":"Medlytics",
        "work.title":"Selected Work",
        "filters.all":"All","filters.saas":"SaaS","filters.dashboards":"Dashboards","filters.marketing":"Marketing",
        "work.a.title":"Realtime Analytics Dashboard","work.a.badge":"+37% retention","work.a.desc":"React + TanStack Query, ECharts, streaming via SSE. Lighthouse 98/100, accessible keyboard nav.",
        "work.b.title":"Campaign Landing System","work.b.badge":"5.8% avg CTR","work.b.desc":"Component library for 20+ landing variants, A/B framework, visual editor, CDN image pipeline.",
        "work.c.title":"Admin Console","work.c.badge":"NPS 9.1","work.c.desc":"RBAC, filtered tables (100k+ rows), optimistic updates, offline cache, i18n.",
        "work.d.title":"DevTools Plugin","work.d.badge":"3x faster DX","work.d.desc":"Internal CLI + VSCode extension. Scaffolding, code mods, and DX telemetry.",
        "tech.node":"Node","tech.ds":"Design System",
        "stack.title":"Expertise & Stack",
        "stack.a.title":"Design Systems","stack.a.desc":"Tokenized themes, accessible components, Storybook, visual regression, Figma → code.",
        "stack.b.title":"Performance","stack.b.desc":"Lighthouse 95+, code-splitting, image pipelines, RUM, Core Web Vitals budgets.",
        "stack.c.title":"Accessibility","stack.c.desc":"WCAG 2.2 AA, keyboard/AT support, color contrast, semantic audits & fixes.",
        "testi.title":"What clients say",
        "testi.a":"“Turned our dashboard into a product users love. Performance jumped and churn dropped.”","testi.a.by":"— Head of Product, FinEdge",
        "testi.b":"“He built a design system that sped up delivery across 5 teams. Rock-solid foundations.”","testi.b.by":"— Eng Manager, Cloudify",
        "testi.c":"“The best DX I’ve seen. Clear standards, automation, and mentoring for our juniors.”","testi.c.by":"— CTO, Beta SaaS",
        "contact.title":"Let’s build something great","contact.subtitle":"Tell me about your project. I’ll get back within 24h.",
        "form.name.label":"Full name","form.name.ph":"e.g. Jordan Lee","form.name.err":"Please enter at least 3 characters.",
        "form.email.label":"Email","form.email.ph":"you@company.com","form.email.err":"Enter a valid email.",
        "form.phone.label":"Phone / WhatsApp","form.phone.ph":"+1 415 555 0133","form.phone.err":"Enter a valid number.",
        "form.source.label":"How did you find me?","form.source.sel":"Select…",
        "form.source.opt.google":"Google","form.source.opt.github":"GitHub","form.source.opt.linkedin":"LinkedIn","form.source.opt.ref":"Referral","form.source.opt.other":"Other",
        "form.source.err":"Please choose an option.",
        "form.msg.label":"What do you need?","form.msg.ph":"Short brief, goals, timeline…","form.msg.err":"Write at least 10 characters.",
        "form.consent":"I agree to be contacted about my inquiry.",
        "form.submit":"Send request","form.ok":"✅ Sent! I’ll reply soon.","form.fail":"❌ Something went wrong. Please try again.",
        "privacy":"Your info is only used to reply about this project.",
        "footer.email":"Email","footer.rights":"All rights reserved."
      },
                              fa: {
        "meta.title":"مهندس ارشد وب – پرتفوی",
        "meta.desc":"مهندس ارشد وب با بیش از ۱۰ سال تجربه. اپلیکیشن‌های وب اثرگذار با تمرکز بر کارایی، تجربه توسعه‌دهنده و دسترس‌پذیری. آماده همکاری روی پروژه‌های منتخب.",
        "brand":"مهندس ارشد وب",
        "nav.work":"نمونه کارها","nav.stack":"توانمندی‌ها","nav.testimonials":"نظرات مشتریان","nav.hire":"همکاری با من",
        "lang.btn":"FA / EN",
        "hero.title":"وب‌اپ‌هایی می‌سازم که سریع، چشمگیر و مقیاس‌پذیر هستند.",
        "hero.subtitle":"بیش از ۱۰ سال تجربه در استارتاپ‌ها و سازمان‌ها. تمرکز من روی Performance، DX، دسترس‌پذیری و سیستم‌های طراحی قابل نگه‌داری است.",
        "hero.p1":"کارایی","hero.p2":"دسترس‌پذیری","hero.p3":"سیستم‌های طراحی","hero.p4":"تایپ‌اسکریپت",
        "hero.cta1":"شروع پروژه","hero.cta2":"مشاهده نمونه کار",
        "logos.1":"آکمه","logos.2":"بتا ساس","logos.3":"فین‌اج","logos.4":"کلودیفای","logos.5":"مدلیتیکس",
        "work.title":"گزیده پروژه‌ها",
        "filters.all":"همه","filters.saas":"سرویس‌محور","filters.dashboards":"داشبوردها","filters.marketing":"مارکتینگ",
        "work.a.title":"داشبورد تحلیلی بلادرنگ","work.a.badge":"+۳۷٪ نگهداشت","work.a.desc":"React + TanStack Query و نمودارهای ECharts با استریم SSE. امتیاز Lighthouse برابر ۹۸/۱۰۰ و پیمایش کاملاً قابل دسترس.",
        "work.b.title":"سیستم کمپین مارکتینگ","work.b.badge":"میانگین CTR: ۵٫۸٪","work.b.desc":"کتابخانه کامپوننت برای ۲۰+ لندینگ، زیرساخت A/B، ویرایشگر بصری و پایپ‌لاین تصاویر روی CDN.",
        "work.c.title":"پنل مدیریتی","work.c.badge":"NPS ۹٫۱","work.c.desc":"RBAC، جداول فیلترشونده (۱۰۰هزار+ ردیف)، به‌روزرسانی خوش‌بینانه، کش آفلاین و پشتیبانی کامل i18n.",
        "work.d.title":"افزونه ابزارهای توسعه","work.d.badge":"۳ برابر DX سریع‌تر","work.d.desc":"CLI داخلی و افزونه VSCode. اسکفولدینگ، کدمودها و تله‌متری DX.",
        "tech.node":"نود","tech.ds":"سیستم طراحی",
        "stack.title":"مهارت‌ها و استک",
        "stack.a.title":"سیستم‌های طراحی","stack.a.desc":"تم‌های توکنایز، کامپوننت‌های دسترس‌پذیر، Storybook، تست رگرسیون بصری و همگام‌سازی فیگما با کد.",
        "stack.b.title":"کارایی","stack.b.desc":"امتیاز Lighthouse بالای ۹۵، تقسیم کد، بهینه‌سازی تصاویر، RUM و بودجه‌های Core Web Vitals.",
        "stack.c.title":"دسترس‌پذیری","stack.c.desc":"پوشش کامل WCAG 2.2 سطح AA، پشتیبانی کیبورد و AT، کنتراست رنگ و ممیزی معنایی.",
        "testi.title":"نظر مشتریان",
        "testi.a":"داشبورد ما را به محصولی تبدیل کرد که کاربران عاشقش شدند. کارایی بالا رفت و ریزش کاهش یافت.","testi.a.by":"— رئیس محصول، فین‌اج",
        "testi.b":"سیستم طراحی ساخت که تحویل را در ۵ تیم سرعت داد. زیرساختی بسیار قابل اعتماد.","testi.b.by":"— مدیر فنی، کلودیفای",
        "testi.c":"بهترین تجربه توسعه‌ای که دیده‌ام. استانداردهای شفاف، اتوماسیون و منتورینگ برای اعضای تازه‌کار.","testi.c.by":"— CTO، بتا ساس",
        "contact.title":"بیایید چیزی عالی بسازیم","contact.subtitle":"درباره پروژه‌تان بگویید؛ حداکثر طی ۲۴ ساعت پاسخ می‌دهم.",
        "form.name.label":"نام و نام خانوادگی","form.name.ph":"مثلاً: سارا رضایی","form.name.err":"لطفاً حداقل ۳ کاراکتر بنویسید.",
        "form.email.label":"ایمیل","form.email.ph":"you@company.com","form.email.err":"ایمیل معتبر وارد کنید.",
        "form.phone.label":"تلفن / واتساپ","form.phone.ph":"+98 912 000 0000","form.phone.err":"شماره معتبر وارد کنید.",
        "form.source.label":"چطور با من آشنا شدید؟","form.source.sel":"انتخاب کنید…",
        "form.source.opt.google":"گوگل","form.source.opt.github":"گیت‌هاب","form.source.opt.linkedin":"لینکدین","form.source.opt.ref":"معرفی","form.source.opt.other":"سایر",
        "form.source.err":"لطفاً یک گزینه را انتخاب کنید.",
        "form.msg.label":"درباره نیازتان بگویید","form.msg.ph":"اهداف، زمان‌بندی و هر جزئیاتی که مفید است…","form.msg.err":"حداقل ۱۰ کاراکتر بنویسید.",
        "form.consent":"با دریافت پیام درباره این درخواست موافقم.",
        "form.submit":"ارسال درخواست","form.ok":"ارسال شد! به‌زودی پاسخ می‌دهم.","form.fail":"مشکلی پیش آمد. لطفاً دوباره تلاش کنید.",
        "privacy":"اطلاعات شما فقط برای پاسخ به این درخواست استفاده می‌شود.",
        "footer.email":"ایمیل","footer.rights":"تمامی حقوق محفوظ است."
      };
    const renderIcons = ()=>{
      if (window.lucide && typeof window.lucide.createIcons === 'function') {
        window.lucide.createIcons();
      }else{
        setTimeout(renderIcons, 60);
      }
    };

    // lucide icons & year
    document.addEventListener('DOMContentLoaded', ()=> {
      renderIcons();
      document.getElementById('y').textContent = new Date().getFullYear();
    });

    // Theme (localStorage + system)
    (function theme(){
      const root = document.documentElement;
      const key = 'theme';
      const saved = localStorage.getItem(key);
      const sysLight = matchMedia('(prefers-color-scheme: light)').matches;
      const initial = saved || (sysLight ? 'light' : 'dark');
      apply(initial);

      function setIcon(mode){
        const el = document.getElementById('themeIcon');
        el?.setAttribute('data-lucide', mode === 'light' ? 'moon' : 'sun');
        renderIcons();
      }
      function apply(mode){
        root.setAttribute('data-theme', mode);
        localStorage.setItem(key, mode);
        setIcon(mode);
      }
      document.getElementById('themeToggle')?.addEventListener('click', ()=>{
        const cur = root.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
        apply(cur === 'light' ? 'dark' : 'light');
      });
    })();

    // Header scroll + progress bar
    (function(){
      const header = document.getElementById('siteHeader');
      const bar = document.getElementById('scrollbar');
      function onScroll(){
        const max = document.documentElement.scrollHeight - innerHeight;
        const p = Math.max(0, Math.min(1, (scrollY||0) / (max||1)));
        bar.style.transform = `scaleX(${p})`;
        if (scrollY > 24) header.classList.add('scrolled'); else header.classList.remove('scrolled');
      }
      onScroll(); addEventListener('scroll', onScroll, {passive:true});
    })();

    // Mobile menu
    document.getElementById('menuBtn')?.addEventListener('click', ()=>{
      document.getElementById('mobileMenu')?.classList.toggle('hidden');
    });
    document.getElementById('langToggleMobile')?.addEventListener('click', ()=> switchLang());

    // Portfolio filter
    (function(){
      const btns = document.querySelectorAll('[data-filter]');
      const cards = document.querySelectorAll('[data-cat]');
      if(!btns.length) return;
      function setActive(f){
        btns.forEach(b=> b.classList.toggle('active', b.getAttribute('data-filter')===f));
      }
      btns.forEach(b=>{
        b.addEventListener('click', ()=>{
          const f = b.getAttribute('data-filter');
          setActive(f);
          cards.forEach(c=>{
            const cat = c.getAttribute('data-cat');
            c.style.display = (f==='all' || f===cat) ? 'block' : 'none';
          });
        });
      });
    })();

    // ---- Language switch (FA/EN) ----
    const LANG_KEY = 'lang';
    const supported = ['en','fa'];
    function detectLang(){
      const saved = localStorage.getItem(LANG_KEY);
      if (supported.includes(saved)) return saved;
      const nav = (navigator.language || 'en').toLowerCase();
      return nav.startsWith('fa') ? 'fa' : 'en';
    }
    function applyDir(lang){
      const html = document.documentElement;
      const body = document.body;
      if(lang==='fa'){
        html.setAttribute('lang','fa'); html.setAttribute('dir','rtl');
        body.classList.add('use-fa'); body.classList.remove('use-en');
        document.documentElement.classList.add('lang-fa'); document.documentElement.classList.remove('lang-en');
      }else{
        html.setAttribute('lang','en'); html.setAttribute('dir','ltr');
        body.classList.add('use-en'); body.classList.remove('use-fa');
        document.documentElement.classList.add('lang-en'); document.documentElement.classList.remove('lang-fa');
      }
    }
    function trAttr(el, attrKey, dict){
      const key = el.getAttribute(attrKey);
      if(key && dict[key]) el.setAttribute(attrKey.replace('data-i18n-',''), dict[key]);
    }
    function translate(lang){
      const dict = I18N[lang] || I18N.en;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k = el.getAttribute('data-i18n');
        if(dict[k]) el.textContent = dict[k];
      });
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el=> trAttr(el, 'data-i18n-placeholder', dict));
      // meta title/desc
      const t = dict['meta.title']; if(t) document.title = t;
      const d = dict['meta.desc']; if(d){ const m = document.querySelector('meta[name="description"]'); m && m.setAttribute('content', d) }
      applyDir(lang);
      localStorage.setItem(LANG_KEY, lang);
      // refresh icons (some labels may move)
      renderIcons();
    }
    function switchLang(){
      const cur = localStorage.getItem(LANG_KEY) || detectLang();
      const next = cur === 'fa' ? 'en' : 'fa';
      translate(next);
    }
    // bind buttons
    document.getElementById('langToggle')?.addEventListener('click', switchLang);

    // initial language
    translate(detectLang());

    // ---- Lead form → POST to serverless endpoint that forwards to Telegram ----
    (function(){
      const ENDPOINT = 'https://telegram-lead.@cOOciDev.workers.dev'; // <-- replace with your webhook URL (Cloudflare Worker / GAS)
      const form = document.getElementById('lead-form');
      const err = id => document.getElementById(id);
      const show = (el, on) => el && el.classList.toggle('show', on === true);

      function validate(){
        const data = Object.fromEntries(new FormData(form).entries());
        const okName = (data.name||'').trim().length >= 3;
        const okEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email||'');
        const okPhone = /^[+0-9 ()-]{8,}$/.test(data.phone||'');
        const okSource = !!data.source;
        const okMsg = (data.message||'').trim().length >= 10;
        const okConsent = form.querySelector('#consent')?.checked;

        show(err('err-name'), !okName);
        show(err('err-email'), !okEmail);
        show(err('err-phone'), !okPhone);
        show(err('err-source'), !okSource);
        show(err('err-message'), !okMsg);

        return okName && okEmail && okPhone && okSource && okMsg && okConsent;
      }

      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        document.getElementById('ok').classList.add('hidden');
        document.getElementById('fail').classList.add('hidden');

        if(!validate()) return;

        const payload = Object.fromEntries(new FormData(form).entries());
        if (payload.website && String(payload.website).trim().length) return; // honeypot

        payload._ts = new Date().toISOString();
        payload._lang = localStorage.getItem(LANG_KEY) || 'en';
        const usp = new URLSearchParams(location.search);
        ['utm_source','utm_medium','utm_campaign','utm_term','utm_content'].forEach(k=>{
          if(usp.get(k)) payload[k] = usp.get(k);
        });

        try{
          const r = await fetch(ENDPOINT, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
          if(r.ok){
            document.getElementById('ok').classList.remove('hidden');
            form.reset();
          }else{
            document.getElementById('fail').classList.remove('hidden');
          }
        }catch(e){
          document.getElementById('fail').classList.remove('hidden');
        }
      });
    })();
  </script>
</body>
</html>



